//----------------------------------------------------------------------
//	Name :		"Face to face"
//	Goal : 		
//	Author : 	Demiurg-HG
//----------------------------------------------------------------------

progress	0;

createObjectDescriptor SPAWN_ZOMBIE;
with SPAWN_ZOMBIE
	set	class			"INFO_SPAWN";	
	set	spawn_class		"ZOMBIE_JAW";
	set init_rate		"5.0"	
	set rate_accel		"0.00";
	set max_rate		"10.0";
endwith

createObjectDescriptor SPAWN_MARINE;
with SPAWN_MARINE
	set	class			"INFO_SPAWN";	
	set	spawn_class		"MARINE_SNIPER";
	set init_rate		"0.3"	
	set rate_accel		"0.00";
endwith

with MARINE
	set	class			"MONSTER";
	set	max_health		"100";
	set	weapon			"WEAPON2";
	set	team			"1";

	set	pic_size		"2.0";
	set	body_pic		"sprites/actors/marine_body.tga";
	set	body_shadow		"sprites/actors/marine_body_shadow.tga";
	set	legs_pic		"sprites/actors/marine_legs.tga";
	set	legs_shadow		"sprites/actors/marine_legs_shadow.tga";
	set	gun_offset		"0.45";
	set	shadow_offset	"0.2";
	set	pain_gfx		"BLOOD_SPATTER";
	set	pain_sound		"";
	set	death_gfx		"MEAT_FLESH2";
	set	death_sound		"sound/voices/human_dying.ogg";
	
	set max_shield		"250";
	set shield_regen_time "0.1";
	set shield_gfx  	"SHIELD";
	
	set	size			"1.5";
	set	linear_speed	"15";
	set	linear_accel	"120";
	set	angular_speed	"1000";

	set	ai_think_quantum	"10"	;
	set	ai_aim_speed		"400"	;	
	set	ai_aim_deviation	"0.999"	;	
	set	ai_attack_dist		"40"	;	
	set	ai_smell_dist		"10"	;
	set	ai_follow_dist		"400"	;  
	set ai_patrol_area		"0"	;
endwith

with ZOMBIE_JAW
	set	drop0			"ITEM_HEALTH";
	set	drop1			"ITEM_HEALTH";
	set	drop2			"BARREL";
	set	drop3			"BARREL";
	set	drop4			"BARREL";
	set	drop5			"-";
	set	drop6			"-";
	set	drop7			"-";
	set	drop8			"-";
	set	drop9			"-";
	set	drop10			"-";
	set	drop11			"-";
	set	drop12			"-";
	set	drop13			"-";
	set	drop14			"-";
	set	drop15			"-";
	set	drop16			"-";
	set	drop17			"-";
	set	drop18			"-";
	set	drop19			"-";
	set	drop20			"-";
	set	drop21			"-";
	set	drop22			"-";
	set	drop23			"-";
	set	drop24			"-";
	set	drop25			"-";
	set	drop26			"-";
	set	drop27			"-";
	set	drop28			"-";
	set	drop29			"-";
	set	drop30			"-";
	set	drop31			"-";
	set	drop32			"-";
	set	drop33			"-";
	set	drop34			"-";
	set	drop35			"-";
	set	drop36			"-";
	set	drop37			"-";
	set	drop38			"-";
	set	drop39			"-";
	set	drop40			"-";
	set	drop41			"-";
	set	drop42			"-";
	set	drop43			"-";
	set	drop44			"-";
	set	drop45			"-";
	set	drop46			"-";
	set	drop47			"-";
	set	drop48			"-";
	set	drop49			"-";
endwith

with PLAYER
	set max_health		"100"
	set max_shield		"100";
	set shield_regen_time "0.1";
	set shield_gfx  	"SHIELD";
endwith

with weapon7
	cooldown			"20"
	damage				"500"
endwith

with weapon6
	damage				"30"
	cooldown			"50"
endwith

with weapon1
	damage				"30"
endwith

with weapon3
	damage				"30"
endwith

with ITEM_HEALTH
	set	number	"120";
endwith

createObjectDescriptor ITEM_W7_AMMO
with ITEM_W7_AMMO
	set	class	"ITEM";						// for items - slways ITEM
	set	icon	"sprites/hud/weapon07.tga";	// icon path, same as HUD icons
	set item    "WEAPON7_AMMO";				// item to give
	set number	"100";						// quantity of items
endwith

//----------------------------------------------------------------------
//	APPEARANCE AND MAZE PARAMS :
//----------------------------------------------------------------------
mazeInit	16	16	"tiles/space02/space02";

mazeDef	S	INFO_START		1
mazeDef	X	INFO_SPAWN		1
mazeDef	+	ITEM_HEALTH		1

mazeDef	x	ZOMBIE_JAW		4;
mazeDef	O	SPAWN_ZOMBIE	1;
mazeDef	A	SPAWN_MARINE	1;

/////////////01234567890123456789012345678901
maze	15	"                "
maze	14	"                "
maze	13	" O***********O  "
maze	12	" *  *  *  *  *  "
maze	11	" *  *  *  *  *  "
maze	10	" *************  "
maze	9	" **  *****  **  "
maze	8	"  *  *****  *   "
maze	7	"  ****ASA****   "
maze	6	"  *  *****  *   "
maze	5	" **  *****  **  "
maze	4	" *************  "
maze	3	" *  *  *  *  *  "
maze	2	" *  *  *  *  *  "
maze	1	" O***********O  "
maze	0	"                "
/////////////01234567890123456789012345678901
                           
mazeBuild
//mazeWeather	"SNOW"
mazeWeather	"WAR_SMOKE"

setEnv	"env/stars.tga"
setFog	"sprites/null.tga" 0;

//----------------------------------------------------------------------
//	ADD SOME DIRT :
//----------------------------------------------------------------------
//				TEXTURE							Rds	%%	r	g	b	a
//----------------------------------------------------------------------
addDecal	"gfx/decals/exp_decal.tga" 			30	70 	1	1	1	0.15;
addDecal	"gfx/decals/exp_decal.tga" 			9	70 	1	1	1	0.20;
addDecal	"gfx/decals/exp_decal.tga" 			2	50 	1	1	1	0.50;
addDecal	"gfx/decals/plasma_decal.tga" 		5	100	1	1	1	0.70;
addDecal	"gfx/decals/blood0.tga" 			4	30 	1	1	1	0.30;
addDecal	"gfx/decals/blood1.tga" 			4	30 	1	1	1	0.30;
addDecal	"gfx/decals/blood2.tga" 			4	30 	1	1	1	0.30;
addDecal	"gfx/decals/blood3.tga" 			4	30 	1	1	1	0.30;


//----------------------------------------------------------------------
//	ADD BRIEFING :
//----------------------------------------------------------------------

exitCriteria	"survival";
//nextLevel 		"level17";

briefingCreate 	"1";
briefingTime	"1" "10000";
briefingImage	"1" "ui/space.jpg";
briefingText	"1" "Survival";
briefingText	"1" "";
briefingText	"1" "";
                
briefingTime	"DEAD" "10000";
briefingImage	"DEAD" "ui/survive.jpg";
briefingText	"DEAD" "";

briefingTime	"WIN" "10000";
briefingImage	"WIN" "ui/endgame.jpg";
briefingText	"WIN" "";

               

//----------------------------------------------------------------------
//	GIVE ITEMS TO PLAYER
//	delay 500 is necessary!!!
//----------------------------------------------------------------------

delay 500 "give WEAPON1 1;";
delay 500 "give WEAPON2 1;";
delay 500 "give WEAPON3 1;";
delay 500 "give WEAPON4 1;";
delay 500 "give WEAPON5 1;";
delay 500 "give WEAPON6 1;";
delay 500 "give WEAPON7 1;";

delay 500 "give WEAPON1_AMMO 500;";
delay 500 "give WEAPON2_AMMO 200;";
delay 500 "give WEAPON3_AMMO 25;";
delay 500 "give WEAPON4_AMMO 25;";
delay 500 "give WEAPON5_AMMO 25;";
delay 500 "give WEAPON6_AMMO 200;";
delay 500 "give WEAPON7_AMMO 999999900;";
delay 500 "weapon 2;";

